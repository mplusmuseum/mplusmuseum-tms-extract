<html>

<head>
  <title>Dashboard - config</title>
  {{> head}}
  <link href="/css/prism.css" rel="stylesheet" />
</head>

<body>

  {{> nav}}



  <section class="hero is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <h1 class="title capitalise is-1">
          API
        </h1>
        <h2 class="subtitle is-3">
          Help in how to validate API keys
        </h2>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <p>
        The dashboard currently offers one API function, but may soon end up offering more. To communicate with the API
        securely
        a "handshake" token will need to be passed over, normally in a
        <code>POST</code> operation and normally as an "
        <code>Authorization: bearer [xxxxxxxxxxxxxxxxxxxxxxxxxx]</code>" token. See examples below for details.
      </p>

      <h2 class="title is-3">Developers API token test</h2>

      <p>
        To test to see if a developers API token is valid you should call the following API endpoint.
      </p>
      <p>
        <code>http://{{host}}/api/checkToken</code>
      </p>
      <p>
        This is a
        <code>POST</code> operation and you will need to pass the developers token you are checking as a
        <code class="red">token</code> parameter and the secret handshake token in the headers as
        <code>Authorization: bearer</code>.
      </p>

      <h3 class="title is-4">cURL</h3>

      <p>
        This is how you would check your own token using cURL.
      </p>

      <pre class="query language-bash">{{{curlCode curlCode}}}</pre>

      <p>
        This is what a success response looks like.
      </p>
      <pre class="query language-json">{{{curlCode responseCode}}}</pre>

      <h3 class="title is-4">Node</h3>

      <p>
        And this code is how you would check your own developers token using node.
      </p>
      <pre class="query language-javascript">{{{nodeCode nodeCode}}}</pre>

      <hr />

      <h4 class="title is-5">Caching and expiring</h4>
      <p>
        You
        <em>should
          <strong>not</strong>
        </em> check the developers token each time they make a GraphQL call. The
        <code>expires_in</code> tells you in seconds how long you should cache the check for before requesting a new
        check.
      </p>
    </div>
    </div>

    {{> tail}}
</body>

</html>