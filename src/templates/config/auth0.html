<html>

<head>
  <title>Setup Auth0</title>
  {{> head}}
  <link href="/css/prism.css" rel="stylesheet" />
</head>

<body>

  {{> nav}}

  <section class="hero is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <h1 class="title capitalise is-1">
          Initial Setup
        </h1>
        <h2 class="subtitle is-3">
          This is where you enter the Auth0 information to get started
        </h2>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">

      <h1 class="title">Auth0</h1>
      <p>
        To use this dashboard you should first set up and be familiar with
        <a href="https://auth0.com/">Auth0</a> which will act as your authentication and allow users to register and
        log into the dashboard. You as the
        1st user will be an admin user, who will then control the roles and rights of new users who sign up.
      </p>
      <p>
        Before you fill in the details in the form, please create an Auth0 account, create an application and then use
        the details
        provided.
      </p>
      <p>
        <form method="POST">
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Auth0 domain</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input" type="text" name="AUTH0_DOMAIN" value="" placeholder="domain.auth0.com" />
                </p>
              </div>
            </div>
          </div>

          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Auth0 client ID</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input" type="text" name="AUTH0_CLIENT_ID" value="" placeholder="abcdef0123456789" />
                </p>
              </div>
            </div>
          </div>

          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Auth0 secret</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input" type="text" name="AUTH0_SECRET" value="" placeholder="abcdef0123456789" />
                </p>
              </div>
            </div>
          </div>

          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Auth0 callback url</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input" type="text" name="AUTH0_CALLBACK_URL" value="" placeholder="https://domain.com/callback" />
                </p>
              </div>
            </div>
          </div>

          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Handshake</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input class="input" type="text" name="handshake" value="{{handshake}}" placeholder="Your handshake token" />
                </p>
              </div>
            </div>
          </div>

          <div class="level">
            <div class="level-left">
              <div class="level-item">&nbsp;</div>
            </div>
            <div class="level-right">
              <div class="level-item">
                <p class="control">
                  <button class="button is-primary" type="submit" value="save" name="action">Save</button>
                </p>
              </div>
            </div>
          </div>
        </form>
      </p>

      <hr />

      <h1 class="title">Helpful information!</h1>
      <p>
        1. When you've created an Auth0 account, you will need to create a new application by pressing the NEW
        APPLICATION button.
        <img class="medium border" src="/images/auth0_1.png">
      </p>
      <p>
        2. Give the app a name and create it as a "Regular Web Application".
        <img class="medium border" src="/images/auth0_2.png">
      </p>
      <p>
        3. You will then copy the domain, Client ID and Client Secret from the form.
        <img class="medium border" src="/images/auth0_3.png">
      </p>
      <p>
        4. And you will need to set up the Callback, Origins and Logout URLs roughly as follow. You will need to
        substitute in your
        own domains, ports and callback.
        <img class="medium border" src="/images/auth0_4.png">
      </p>

      <hr />

      <p>
        <strong>NOTE:</strong> for development purposes it is useful to map the domain
        <code>auth.localhost</code> to
        <code>localhost</code>. To do this edit your
        <code>/etc/hosts</code> file to look something like the following...
        <pre class="language-bash">
  ##
  # Host Database
  #
  # localhost is used to configure the loopback interface
  # when the system is booting.  Do not change this entry.
  ##
  127.0.0.1       localhost
  255.255.255.255 broadcasthost
  ::1             localhost
  auth.localhost  localhost  
</pre>
        Where the last line is "<code>auth.localhost localhost</code>".
      </p>
    </div>
  </section>

  {{> tail}}
</body>

</html>